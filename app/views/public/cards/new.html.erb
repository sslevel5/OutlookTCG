<div class='container' style="margin-top: 100px; margin-bottom: 100px;">
  <div class='row'>
    <div class="col-sm-10 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto">
      <h3 class="text-center">新規投稿</h3>
      <% if @card.errors.any? %>
        <div class="alert alert-danger">
          <%= @card.errors.count %>件のエラーが発生しました
          <ul class="mb-0">
            <% @card.errors.full_messages.each do |message| %>
              <li><%= message.gsub("Genre", "ジャンル").gsub("Price", "価格").gsub("Name", "商品名").gsub("Image", "商品画像").gsub("Introduction", "商品説明") %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <%= form_with url: public_cards_path, method: :post, model: @card do |f| %>
      <table class="table table-borderless">
        <tr>
          <td><%= f.text_field :title, class: 'form-control', placeholder: 'カード名' %></td>
        </tr>
        <tr>
          <td><%= f.text_area :body, class: 'form-control', placeholder: 'カード概要' %></td>
        </tr>
        <tr>
          <td>
            <div class="row" >
              <div class="col-4">
            <%= f.text_field :price, class: 'form-control', pattern: "[0-9]+", placeholder: '価格(半角)' %>
              </div>
              <div class="col-4">
            <%= f.select :rarity_id, options_for_select((@raritys || []).map { |rarity| [rarity.name, rarity.id] }, prompt: "レアリティ"), { prompt: "レアリティ" }, class: 'form-control' %>
              </div>
              <div class="col-4">
            <%= f.select :store_id, options_for_select((@stores || []).map { |store| [store.name, store.id] }, prompt: "店舗名"), { prompt: "店舗名" }, class: 'form-control' %>
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="row">
            <div class="btn-group btn-group-toggle col-4" data-toggle="buttons">
              <label class="btn btn-outline-success <%= 'active' if @card.is_active %> rounded" style="font-size: 13px;">
                <%= f.radio_button :is_active, true, { checked: @card.is_active, class: 'form-check-input', id: 'active' } %> 有効
              </label>
              <div class="mx-2"></div> <!-- ボタン間のスペースを調整するための空のディビジョン -->
              <label class="btn btn-outline-danger <%= 'active' unless @card.is_active %> rounded" style="font-size: 13px;">
                <%= f.radio_button :is_active, false, { checked: !@card.is_active, class: 'form-check-input', id: 'inactive' } %> 無効
              </label>
            </div>
            <div class="col-5"></div>
            <div class="col-3">
                <label for="file-upload" class="custom-file-upload btn btn-outline-secondary m-0" style="font-size: 13px;">
                  <i class="fa-solid fa-image"></i>
                </label>
                <%= f.file_field :image, id: "file-upload", accept: "image/*", style: "display: none;" %>
                <%= f.submit "投稿", class: 'btn btn-outline-secondary btn-sm', style: "font-size: 13px;" %>
            </div>
            </div>
          </td>
        </tr>
      </table>
      <div id="previews"></div>
      <% end %>
    </div>
  </div>
</div>